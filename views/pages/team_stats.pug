//- team_stats.pug
include ../partials/header.pug
include ../partials/menu.pug

div.container
	br
	div.jumbotron
		h1.display-4 Fall 2018 Stats
		p.lead CU Football Statistics for the 2018 Football Season!

	table.table.table-bordered#stats_table
		tr
			th.align-bottom(rowspan="2") Game Date
			th.align-bottom(rowspan="2") Opposing Team Name
			th.text-center(colspan="2") Score
			th.align-bottom(rowspan="2") Winner
		tr
			th Home Score
			th Opp. Score
		//- Todo: Iterate over the football_game table data and display the date, name, home score, and visitor score for each row. Determine the winner and display the winner's name in the last column
		- if(data)
			-var win = 0;
			-var loss = 0;
			for game in data
				- var winner;
				if (game.home_score > game.visitor_score)
					- winner = "CU"
					- win = win + 1;
				else 
					- winner = game.visitor_name
					- loss = loss + 1;
				tr
					td.align-bottom(rowspan="2")=game.game_date
					td.align-bottom(rowspan="2")=game.visitor_name
					td.align-bottom(rowspan="2")=game.home_score
					td.align-bottom(rowspan="2")=game.visitor_score
					td.align-bottom(rowspan="2")=winner
				tr
	br

	table.table.text-center
		tr
			th Wins
			th Losses
		tr
			//- TODO: Display the total number of wins here. This value should come from your server-side db query.
			//- TODO: Display the total number of losses here. This value should come from your server-side db query.
			tr
				td.align-bottom(rowspan="2")=win
				td.align-bottom(rowspan="2")=loss
			tr

include ../partials/footer.pug
